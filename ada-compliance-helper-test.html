<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Ada Compliance Helper</title>
	<style>	
		.js--ada-accordion-btn[aria-expanded="true"]{
			outline: 2px solid #f00;
		}

		.js--ada-accordion-btn[aria-expanded="false"]{
			outline: 2px solid #ff0;
		}


		.js--ada-accordion-item[aria-hidden="true"]{
			display: none;
		}
		.js--ada-accordion-item[aria-hidden="false"]{
			display: block;
		}
	</style>
	<script
	src="https://code.jquery.com/jquery-3.6.3.slim.min.js"
	integrity="sha256-ZwqZIVdD3iXNyGHbSYdsmWP//UBokj2FHAxKuSBKDSo="
	crossorigin="anonymous"></script>
</head>
<body>

	<div class="accordion-example">
		<ul aria-label="Accordion Control Group Buttons" class="accordion-controls">
		  <li>
			<button aria-controls="accordion-content-1" aria-expanded="true" id="accordion-btn-1">Apples</button>
			<div  id="accordion-content-1" tabindex="0" aria-labelledby="accordion-btn-1">
			  <p>Apples are a fine fruit often associated with good health, and fewer doctor's appointments.</p>
			  <p>Example. An apple a day keeps the doctor away.</p>
			</div>
		  </li>
	  
		  <li>
			<button aria-controls="content-2" aria-expanded="false" id="accordion-control-2">Lemons</button>
			<div id="content-2">
			  <p>Lemons are good with almost anything, yet are often have a negative connotation when used in conversation.</p>
			  <p>Example. The bread from the french bakery is normally very good, but the one we bought today was a lemon.</p>
			</div>
		  </li>
	  
		  <li>
			<button aria-controls="content-3" aria-expanded="false" id="accordion-control-3">Kiwis</button>
			<div  id="content-3">
			  <p>Kiwis are a fun, under-appreciated fruit.</p>
			</div>
		  </li>
		</ul>
	  </div>

	  <script>



		var accordionButtons = $('.accordion-controls li button');

function accordionToggle() {
  $('.accordion-controls li button').on('click', function(e) {
    $control = $(this);

    accordionContent = $control.attr('aria-controls');
    checkOthers($control[0]);

    isAriaExp = $control.attr('aria-expanded');
    newAriaExp = (isAriaExp == "false") ? "true" : "false";
    $control.attr('aria-expanded', newAriaExp);

    isAriaHid = $('#' + accordionContent).attr('aria-hidden');
    if (isAriaHid == "true") {
      $('#' + accordionContent).attr('aria-hidden', "false");
      $('#' + accordionContent).css('display', 'block');
    } else {
      $('#' + accordionContent).attr('aria-hidden', "true");
      $('#' + accordionContent).css('display', 'none');
    }
  });
};

function checkOthers(elem) {
  for (var i=0; i<accordionButtons.length; i++) {
    if (accordionButtons[i] != elem) {
      if (($(accordionButtons[i]).attr('aria-expanded')) == 'true') {
        $(accordionButtons[i]).attr('aria-expanded', 'false');
        content = $(accordionButtons[i]).attr('aria-controls');
        $('#' + content).attr('aria-hidden', 'true');
        $('#' + content).css('display', 'none');
      }
    }
  }
};

//call this function on page load
accordionTog
	  </script>
	
</body>
</html>